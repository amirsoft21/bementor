{"ast":null,"code":"const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';class ApiService{constructor(){this.baseURL=API_BASE_URL;}// Get auth token from localStorage\ngetToken(){return localStorage.getItem('token');}// Set auth token in localStorage\nsetToken(token){localStorage.setItem('token',token);}// Remove auth token from localStorage\nremoveToken(){localStorage.removeItem('token');}// Get headers for API requests\ngetHeaders(){const headers={'Content-Type':'application/json'};const token=this.getToken();if(token){headers.Authorization=`Bearer ${token}`;}return headers;}// Make API request\nasync request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url=`${this.baseURL}${endpoint}`;const config={headers:this.getHeaders(),...options};try{const response=await fetch(url,config);const data=await response.json();if(!response.ok){throw new Error(data.message||'Something went wrong');}return data;}catch(error){console.error('API request failed:',error);throw error;}}// Auth endpoints\nasync register(userData){return this.request('/auth/register',{method:'POST',body:JSON.stringify(userData)});}async login(credentials){return this.request('/auth/login',{method:'POST',body:JSON.stringify(credentials)});}async getCurrentUser(){return this.request('/auth/me');}async logout(){this.removeToken();return{success:true};}// User endpoints\nasync getUserProfile(){return this.request('/users/profile');}async updateUserProfile(profileData){return this.request('/users/profile',{method:'PUT',body:JSON.stringify(profileData)});}// Teacher endpoints\nasync getTeachers(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const queryString=new URLSearchParams(params).toString();return this.request(`/teachers?${queryString}`);}async getTeacher(id){return this.request(`/teachers/${id}`);}async getFeaturedTeachers(){return this.request('/teachers/featured');}async createTeacherProfile(profileData){return this.request('/teachers',{method:'POST',body:JSON.stringify(profileData)});}async updateTeacherProfile(id,profileData){return this.request(`/teachers/${id}`,{method:'PUT',body:JSON.stringify(profileData)});}// Booking endpoints\nasync createBooking(bookingData){return this.request('/bookings',{method:'POST',body:JSON.stringify(bookingData)});}async getUserBookings(){return this.request('/bookings');}// Message endpoints\nasync getConversations(){return this.request('/messages/conversations');}async sendMessage(messageData){return this.request('/messages',{method:'POST',body:JSON.stringify(messageData)});}// Payment endpoints\nasync createSubscription(subscriptionData){return this.request('/payments/subscribe',{method:'POST',body:JSON.stringify(subscriptionData)});}async getUserSubscriptions(){return this.request('/payments/subscriptions');}// Health check\nasync healthCheck(){return this.request('/health');}}export default new ApiService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","baseURL","getToken","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","getHeaders","headers","Authorization","request","endpoint","options","arguments","length","undefined","url","config","response","fetch","data","json","ok","Error","message","error","console","register","userData","method","body","JSON","stringify","login","credentials","getCurrentUser","logout","success","getUserProfile","updateUserProfile","profileData","getTeachers","params","queryString","URLSearchParams","toString","getTeacher","id","getFeaturedTeachers","createTeacherProfile","updateTeacherProfile","createBooking","bookingData","getUserBookings","getConversations","sendMessage","messageData","createSubscription","subscriptionData","getUserSubscriptions","healthCheck"],"sources":["C:/Users/admin/Desktop/testbementor/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass ApiService {\r\n  constructor() {\r\n    this.baseURL = API_BASE_URL;\r\n  }\r\n\r\n  // Get auth token from localStorage\r\n  getToken() {\r\n    return localStorage.getItem('token');\r\n  }\r\n\r\n  // Set auth token in localStorage\r\n  setToken(token) {\r\n    localStorage.setItem('token', token);\r\n  }\r\n\r\n  // Remove auth token from localStorage\r\n  removeToken() {\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  // Get headers for API requests\r\n  getHeaders() {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n\r\n    const token = this.getToken();\r\n    if (token) {\r\n      headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  // Make API request\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const config = {\r\n      headers: this.getHeaders(),\r\n      ...options,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Something went wrong');\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('API request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Auth endpoints\r\n  async register(userData) {\r\n    return this.request('/auth/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n  }\r\n\r\n  async login(credentials) {\r\n    return this.request('/auth/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n    });\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    return this.request('/auth/me');\r\n  }\r\n\r\n  async logout() {\r\n    this.removeToken();\r\n    return { success: true };\r\n  }\r\n\r\n  // User endpoints\r\n  async getUserProfile() {\r\n    return this.request('/users/profile');\r\n  }\r\n\r\n  async updateUserProfile(profileData) {\r\n    return this.request('/users/profile', {\r\n      method: 'PUT',\r\n      body: JSON.stringify(profileData),\r\n    });\r\n  }\r\n\r\n  // Teacher endpoints\r\n  async getTeachers(params = {}) {\r\n    const queryString = new URLSearchParams(params).toString();\r\n    return this.request(`/teachers?${queryString}`);\r\n  }\r\n\r\n  async getTeacher(id) {\r\n    return this.request(`/teachers/${id}`);\r\n  }\r\n\r\n  async getFeaturedTeachers() {\r\n    return this.request('/teachers/featured');\r\n  }\r\n\r\n  async createTeacherProfile(profileData) {\r\n    return this.request('/teachers', {\r\n      method: 'POST',\r\n      body: JSON.stringify(profileData),\r\n    });\r\n  }\r\n\r\n  async updateTeacherProfile(id, profileData) {\r\n    return this.request(`/teachers/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(profileData),\r\n    });\r\n  }\r\n\r\n  // Booking endpoints\r\n  async createBooking(bookingData) {\r\n    return this.request('/bookings', {\r\n      method: 'POST',\r\n      body: JSON.stringify(bookingData),\r\n    });\r\n  }\r\n\r\n  async getUserBookings() {\r\n    return this.request('/bookings');\r\n  }\r\n\r\n  // Message endpoints\r\n  async getConversations() {\r\n    return this.request('/messages/conversations');\r\n  }\r\n\r\n  async sendMessage(messageData) {\r\n    return this.request('/messages', {\r\n      method: 'POST',\r\n      body: JSON.stringify(messageData),\r\n    });\r\n  }\r\n\r\n  // Payment endpoints\r\n  async createSubscription(subscriptionData) {\r\n    return this.request('/payments/subscribe', {\r\n      method: 'POST',\r\n      body: JSON.stringify(subscriptionData),\r\n    });\r\n  }\r\n\r\n  async getUserSubscriptions() {\r\n    return this.request('/payments/subscriptions');\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck() {\r\n    return this.request('/health');\r\n  }\r\n}\r\n\r\nexport default new ApiService(); "],"mappings":"AAAA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,2BAA2B,CAEjF,KAAM,CAAAC,UAAW,CACfC,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACC,OAAO,CAAGN,YAAY,CAC7B,CAEA;AACAO,QAAQA,CAAA,CAAG,CACT,MAAO,CAAAC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACtC,CAEA;AACAC,QAAQA,CAACC,KAAK,CAAE,CACdH,YAAY,CAACI,OAAO,CAAC,OAAO,CAAED,KAAK,CAAC,CACtC,CAEA;AACAE,WAAWA,CAAA,CAAG,CACZL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAClC,CAEA;AACAC,UAAUA,CAAA,CAAG,CACX,KAAM,CAAAC,OAAO,CAAG,CACd,cAAc,CAAE,kBAClB,CAAC,CAED,KAAM,CAAAL,KAAK,CAAG,IAAI,CAACJ,QAAQ,CAAC,CAAC,CAC7B,GAAII,KAAK,CAAE,CACTK,OAAO,CAACC,aAAa,CAAG,UAAUN,KAAK,EAAE,CAC3C,CAEA,MAAO,CAAAK,OAAO,CAChB,CAEA;AACA,KAAM,CAAAE,OAAOA,CAACC,QAAQ,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAClC,KAAM,CAAAG,GAAG,CAAG,GAAG,IAAI,CAAClB,OAAO,GAAGa,QAAQ,EAAE,CACxC,KAAM,CAAAM,MAAM,CAAG,CACbT,OAAO,CAAE,IAAI,CAACD,UAAU,CAAC,CAAC,CAC1B,GAAGK,OACL,CAAC,CAED,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACH,GAAG,CAAEC,MAAM,CAAC,CACzC,KAAM,CAAAG,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC,GAAI,CAACH,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAACH,IAAI,CAACI,OAAO,EAAI,sBAAsB,CAAC,CACzD,CAEA,MAAO,CAAAJ,IAAI,CACb,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3C,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,KAAM,CAAAE,QAAQA,CAACC,QAAQ,CAAE,CACvB,MAAO,KAAI,CAAClB,OAAO,CAAC,gBAAgB,CAAE,CACpCmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAC/B,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAK,KAAKA,CAACC,WAAW,CAAE,CACvB,MAAO,KAAI,CAACxB,OAAO,CAAC,aAAa,CAAE,CACjCmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACE,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,cAAcA,CAAA,CAAG,CACrB,MAAO,KAAI,CAACzB,OAAO,CAAC,UAAU,CAAC,CACjC,CAEA,KAAM,CAAA0B,MAAMA,CAAA,CAAG,CACb,IAAI,CAAC/B,WAAW,CAAC,CAAC,CAClB,MAAO,CAAEgC,OAAO,CAAE,IAAK,CAAC,CAC1B,CAEA;AACA,KAAM,CAAAC,cAAcA,CAAA,CAAG,CACrB,MAAO,KAAI,CAAC5B,OAAO,CAAC,gBAAgB,CAAC,CACvC,CAEA,KAAM,CAAA6B,iBAAiBA,CAACC,WAAW,CAAE,CACnC,MAAO,KAAI,CAAC9B,OAAO,CAAC,gBAAgB,CAAE,CACpCmB,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACQ,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAC,WAAWA,CAAA,CAAc,IAAb,CAAAC,MAAM,CAAA7B,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC3B,KAAM,CAAA8B,WAAW,CAAG,GAAI,CAAAC,eAAe,CAACF,MAAM,CAAC,CAACG,QAAQ,CAAC,CAAC,CAC1D,MAAO,KAAI,CAACnC,OAAO,CAAC,aAAaiC,WAAW,EAAE,CAAC,CACjD,CAEA,KAAM,CAAAG,UAAUA,CAACC,EAAE,CAAE,CACnB,MAAO,KAAI,CAACrC,OAAO,CAAC,aAAaqC,EAAE,EAAE,CAAC,CACxC,CAEA,KAAM,CAAAC,mBAAmBA,CAAA,CAAG,CAC1B,MAAO,KAAI,CAACtC,OAAO,CAAC,oBAAoB,CAAC,CAC3C,CAEA,KAAM,CAAAuC,oBAAoBA,CAACT,WAAW,CAAE,CACtC,MAAO,KAAI,CAAC9B,OAAO,CAAC,WAAW,CAAE,CAC/BmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACQ,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAU,oBAAoBA,CAACH,EAAE,CAAEP,WAAW,CAAE,CAC1C,MAAO,KAAI,CAAC9B,OAAO,CAAC,aAAaqC,EAAE,EAAE,CAAE,CACrClB,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACQ,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAW,aAAaA,CAACC,WAAW,CAAE,CAC/B,MAAO,KAAI,CAAC1C,OAAO,CAAC,WAAW,CAAE,CAC/BmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACoB,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,eAAeA,CAAA,CAAG,CACtB,MAAO,KAAI,CAAC3C,OAAO,CAAC,WAAW,CAAC,CAClC,CAEA;AACA,KAAM,CAAA4C,gBAAgBA,CAAA,CAAG,CACvB,MAAO,KAAI,CAAC5C,OAAO,CAAC,yBAAyB,CAAC,CAChD,CAEA,KAAM,CAAA6C,WAAWA,CAACC,WAAW,CAAE,CAC7B,MAAO,KAAI,CAAC9C,OAAO,CAAC,WAAW,CAAE,CAC/BmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACwB,WAAW,CAClC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAC,kBAAkBA,CAACC,gBAAgB,CAAE,CACzC,MAAO,KAAI,CAAChD,OAAO,CAAC,qBAAqB,CAAE,CACzCmB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC0B,gBAAgB,CACvC,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,oBAAoBA,CAAA,CAAG,CAC3B,MAAO,KAAI,CAACjD,OAAO,CAAC,yBAAyB,CAAC,CAChD,CAEA;AACA,KAAM,CAAAkD,WAAWA,CAAA,CAAG,CAClB,MAAO,KAAI,CAAClD,OAAO,CAAC,SAAS,CAAC,CAChC,CACF,CAEA,cAAe,IAAI,CAAAd,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}