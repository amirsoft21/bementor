{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useChat}from'../contexts/ChatContext';import{useAuth}from'../contexts/AuthContext';import{Send,Search,MoreVertical,Phone,Video,Image,Paperclip,Smile,ArrowLeft}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatPage=()=>{const{conversations,activeConversation,messages,sendMessage,setActiveConversation,markConversationAsRead}=useChat();const{currentUser}=useAuth();const[newMessage,setNewMessage]=useState('');const[searchTerm,setSearchTerm]=useState('');const messagesEndRef=useRef(null);const[isMobileView,setIsMobileView]=useState(false);// Auto-scroll to bottom when new messages arrive\nuseEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages,activeConversation]);// Check if mobile view\nuseEffect(()=>{const checkMobile=()=>{setIsMobileView(window.innerWidth<768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);const handleSendMessage=e=>{e.preventDefault();if(!newMessage.trim()||!activeConversation)return;sendMessage(activeConversation,newMessage);setNewMessage('');};const handleConversationClick=conversationId=>{setActiveConversation(conversationId);markConversationAsRead(conversationId);};const filteredConversations=conversations.filter(conv=>{const otherParticipant=conv.participants.find(p=>p.id!==currentUser.id);return otherParticipant.name.toLowerCase().includes(searchTerm.toLowerCase());});const activeConversationData=conversations.find(conv=>conv.id===activeConversation);const activeMessages=messages[activeConversation]||[];const formatTime=timestamp=>{const date=new Date(timestamp);const now=new Date();const diffInHours=(now-date)/(1000*60*60);if(diffInHours<24){return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});}else if(diffInHours<48){return'Yesterday';}else{return date.toLocaleDateString();}};const getOtherParticipant=conversation=>{return conversation.participants.find(p=>p.id!==currentUser.id);};if(conversations.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Search,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No conversations yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Start a conversation by contacting a teacher from their profile.\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`w-full md:w-80 bg-white border-r border-gray-200 flex flex-col ${isMobileView&&activeConversation?'hidden':'block'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Messages\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search conversations...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:filteredConversations.map(conversation=>{const otherParticipant=getOtherParticipant(conversation);const isActive=conversation.id===activeConversation;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleConversationClick(conversation.id),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${isActive?'bg-primary-50 border-primary-200':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:otherParticipant.avatar,alt:otherParticipant.name,className:\"w-12 h-12 rounded-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 truncate\",children:otherParticipant.name}),conversation.lastMessage&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:formatTime(conversation.lastMessage.timestamp)})]}),conversation.lastMessage&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 truncate\",children:[conversation.lastMessage.senderId===currentUser.id?'You: ':'',conversation.lastMessage.text]}),conversation.unreadCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mt-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-primary-600 text-white text-xs px-2 py-1 rounded-full\",children:conversation.unreadCount})})]})]})},conversation.id);})})]}),activeConversation&&activeConversationData&&/*#__PURE__*/_jsxs(\"div\",{className:`flex-1 flex flex-col ${isMobileView?'block':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[isMobileView&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveConversation(null),className:\"md:hidden p-1\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5 text-gray-600\"})}),/*#__PURE__*/_jsx(\"img\",{src:getOtherParticipant(activeConversationData).avatar,alt:getOtherParticipant(activeConversationData).name,className:\"w-10 h-10 rounded-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-gray-900\",children:getOtherParticipant(activeConversationData).name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Online\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(Phone,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(Video,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(MoreVertical,{className:\"w-5 h-5\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[activeMessages.map(message=>{const isOwnMessage=message.senderId===currentUser.id;return/*#__PURE__*/_jsx(\"div\",{className:`flex ${isOwnMessage?'justify-end':'justify-start'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${isOwnMessage?'bg-primary-600 text-white':'bg-gray-200 text-gray-900'}`,children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.text}),/*#__PURE__*/_jsx(\"p\",{className:`text-xs mt-1 ${isOwnMessage?'text-primary-100':'text-gray-500'}`,children:formatTime(message.timestamp)})]})},message.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-t border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendMessage,className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"p-2 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(Paperclip,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"p-2 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(Image,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type a message...\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-600 hover:text-primary-600 transition-colors\",children:/*#__PURE__*/_jsx(Smile,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!newMessage.trim(),className:\"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"})})]})})]}),!activeConversation&&!isMobileView&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Search,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Select a conversation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Choose a conversation from the list to start messaging.\"})]})})]})});};export default ChatPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useChat","useAuth","Send","Search","MoreVertical","Phone","Video","Image","Paperclip","Smile","ArrowLeft","toast","jsx","_jsx","jsxs","_jsxs","ChatPage","conversations","activeConversation","messages","sendMessage","setActiveConversation","markConversationAsRead","currentUser","newMessage","setNewMessage","searchTerm","setSearchTerm","messagesEndRef","isMobileView","setIsMobileView","_messagesEndRef$curre","current","scrollIntoView","behavior","checkMobile","window","innerWidth","addEventListener","removeEventListener","handleSendMessage","e","preventDefault","trim","handleConversationClick","conversationId","filteredConversations","filter","conv","otherParticipant","participants","find","p","id","name","toLowerCase","includes","activeConversationData","activeMessages","formatTime","timestamp","date","Date","now","diffInHours","toLocaleTimeString","hour","minute","toLocaleDateString","getOtherParticipant","conversation","length","className","children","type","placeholder","value","onChange","target","map","isActive","onClick","src","avatar","alt","lastMessage","senderId","text","unreadCount","message","isOwnMessage","ref","onSubmit","disabled"],"sources":["C:/Users/admin/Desktop/testbementor/src/pages/ChatPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useChat } from '../contexts/ChatContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { \r\n  Send, \r\n  Search, \r\n  MoreVertical, \r\n  Phone, \r\n  Video, \r\n  Image, \r\n  Paperclip,\r\n  Smile,\r\n  ArrowLeft\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst ChatPage = () => {\r\n  const { \r\n    conversations, \r\n    activeConversation, \r\n    messages, \r\n    sendMessage, \r\n    setActiveConversation,\r\n    markConversationAsRead \r\n  } = useChat();\r\n  const { currentUser } = useAuth();\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n  const [isMobileView, setIsMobileView] = useState(false);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, activeConversation]);\r\n\r\n  // Check if mobile view\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobileView(window.innerWidth < 768);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !activeConversation) return;\r\n\r\n    sendMessage(activeConversation, newMessage);\r\n    setNewMessage('');\r\n  };\r\n\r\n  const handleConversationClick = (conversationId) => {\r\n    setActiveConversation(conversationId);\r\n    markConversationAsRead(conversationId);\r\n  };\r\n\r\n  const filteredConversations = conversations.filter(conv => {\r\n    const otherParticipant = conv.participants.find(p => p.id !== currentUser.id);\r\n    return otherParticipant.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n  });\r\n\r\n  const activeConversationData = conversations.find(conv => conv.id === activeConversation);\r\n  const activeMessages = messages[activeConversation] || [];\r\n\r\n  const formatTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInHours = (now - date) / (1000 * 60 * 60);\r\n\r\n    if (diffInHours < 24) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInHours < 48) {\r\n      return 'Yesterday';\r\n    } else {\r\n      return date.toLocaleDateString();\r\n    }\r\n  };\r\n\r\n  const getOtherParticipant = (conversation) => {\r\n    return conversation.participants.find(p => p.id !== currentUser.id);\r\n  };\r\n\r\n  if (conversations.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <Search className=\"w-8 h-8 text-gray-400\" />\r\n          </div>\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No conversations yet</h2>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            Start a conversation by contacting a teacher from their profile.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"flex h-screen\">\r\n        {/* Conversations List */}\r\n        <div className={`w-full md:w-80 bg-white border-r border-gray-200 flex flex-col ${isMobileView && activeConversation ? 'hidden' : 'block'}`}>\r\n          {/* Header */}\r\n          <div className=\"p-4 border-b border-gray-200\">\r\n            <h1 className=\"text-xl font-semibold text-gray-900 mb-4\">Messages</h1>\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search conversations...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Conversations */}\r\n          <div className=\"flex-1 overflow-y-auto\">\r\n            {filteredConversations.map(conversation => {\r\n              const otherParticipant = getOtherParticipant(conversation);\r\n              const isActive = conversation.id === activeConversation;\r\n              \r\n              return (\r\n                <div\r\n                  key={conversation.id}\r\n                  onClick={() => handleConversationClick(conversation.id)}\r\n                  className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\r\n                    isActive ? 'bg-primary-50 border-primary-200' : ''\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <img\r\n                      src={otherParticipant.avatar}\r\n                      alt={otherParticipant.name}\r\n                      className=\"w-12 h-12 rounded-full object-cover\"\r\n                    />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <h3 className=\"font-medium text-gray-900 truncate\">\r\n                          {otherParticipant.name}\r\n                        </h3>\r\n                        {conversation.lastMessage && (\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {formatTime(conversation.lastMessage.timestamp)}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      {conversation.lastMessage && (\r\n                        <p className=\"text-sm text-gray-600 truncate\">\r\n                          {conversation.lastMessage.senderId === currentUser.id ? 'You: ' : ''}\r\n                          {conversation.lastMessage.text}\r\n                        </p>\r\n                      )}\r\n                      {conversation.unreadCount > 0 && (\r\n                        <div className=\"flex items-center justify-between mt-1\">\r\n                          <span className=\"bg-primary-600 text-white text-xs px-2 py-1 rounded-full\">\r\n                            {conversation.unreadCount}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chat Area */}\r\n        {activeConversation && activeConversationData && (\r\n          <div className={`flex-1 flex flex-col ${isMobileView ? 'block' : ''}`}>\r\n            {/* Chat Header */}\r\n            <div className=\"bg-white border-b border-gray-200 p-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  {isMobileView && (\r\n                    <button\r\n                      onClick={() => setActiveConversation(null)}\r\n                      className=\"md:hidden p-1\"\r\n                    >\r\n                      <ArrowLeft className=\"w-5 h-5 text-gray-600\" />\r\n                    </button>\r\n                  )}\r\n                  <img\r\n                    src={getOtherParticipant(activeConversationData).avatar}\r\n                    alt={getOtherParticipant(activeConversationData).name}\r\n                    className=\"w-10 h-10 rounded-full object-cover\"\r\n                  />\r\n                  <div>\r\n                    <h2 className=\"font-semibold text-gray-900\">\r\n                      {getOtherParticipant(activeConversationData).name}\r\n                    </h2>\r\n                    <p className=\"text-sm text-gray-500\">Online</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button className=\"p-2 text-gray-600 hover:text-primary-600 transition-colors\">\r\n                    <Phone className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button className=\"p-2 text-gray-600 hover:text-primary-600 transition-colors\">\r\n                    <Video className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button className=\"p-2 text-gray-600 hover:text-primary-600 transition-colors\">\r\n                    <MoreVertical className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n              {activeMessages.map(message => {\r\n                const isOwnMessage = message.senderId === currentUser.id;\r\n                \r\n                return (\r\n                  <div\r\n                    key={message.id}\r\n                    className={`flex ${isOwnMessage ? 'justify-end' : 'justify-start'}`}\r\n                  >\r\n                    <div\r\n                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                        isOwnMessage\r\n                          ? 'bg-primary-600 text-white'\r\n                          : 'bg-gray-200 text-gray-900'\r\n                      }`}\r\n                    >\r\n                      <p className=\"text-sm\">{message.text}</p>\r\n                      <p className={`text-xs mt-1 ${\r\n                        isOwnMessage ? 'text-primary-100' : 'text-gray-500'\r\n                      }`}>\r\n                        {formatTime(message.timestamp)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Message Input */}\r\n            <div className=\"bg-white border-t border-gray-200 p-4\">\r\n              <form onSubmit={handleSendMessage} className=\"flex items-center space-x-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"p-2 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                >\r\n                  <Paperclip className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"p-2 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                >\r\n                  <Image className=\"w-5 h-5\" />\r\n                </button>\r\n                <div className=\"flex-1 relative\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    placeholder=\"Type a message...\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                  >\r\n                    <Smile className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={!newMessage.trim()}\r\n                  className=\"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <Send className=\"w-5 h-5\" />\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* No Conversation Selected */}\r\n        {!activeConversation && !isMobileView && (\r\n          <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n            <div className=\"text-center\">\r\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <Search className=\"w-8 h-8 text-gray-400\" />\r\n              </div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Select a conversation</h2>\r\n              <p className=\"text-gray-600\">\r\n                Choose a conversation from the list to start messaging.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}